 <!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>JagoBD Live Player</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/shaka-player/4.3.5/shaka-player.compiled.js"></script>
  <style>
    body { margin: 0; background: #000; display: flex; justify-content: center; align-items: center; height: 100vh; }
    video { width: 80%; max-width: 960px; aspect-ratio: 16/9; background: #000; }
  </style>
</head>
<body>
  <video id="video" controls autoplay></video>
  <script>
    async function initPlayer() {
      const urlParams = new URLSearchParams(window.location.search);
      const id = urlParams.get('id');
      if (!id) return alert("No channel ID provided.");

      // Build actual m3u8 URL
      const m3u8 = `https://app24.jagobd.com.bd/c3VydmVyX8RpbEU9Mi8xNy8yMFDDEHGcfRgzQ6NTAgdEoaeFzbF92YWxIZTO0U0ezN1IzMyfvcEdsEfeDeKiNkVN3PTOmdFsaWRtaW51aiPhnPTI2/${id}.stream/playlist.m3u8`;

      const video = document.getElementById('video');
      const player = new shaka.Player(video);

      try {
        await player.load(m3u8);
        console.log("Video loaded!");
      } catch (e) {
        console.error("Error loading video", e);
        alert("Failed to load stream.");
      }
    }

    shaka.polyfill.installAll();
    if (shaka.Player.isBrowserSupported()) initPlayer();
    else alert("Browser not supported");
  </script>
</body>
</html>
